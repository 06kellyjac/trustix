{% extends "base.jinja2" %}

{% block deferred %}
  <script type="text/javascript">
    (() => {
      const main = document.querySelector("main")

      const heading = document.createElement("h3")
      heading.appendChild((() => {
        const elem = document.createElement("span")
        elem.innerText = "Reproducibility for "
        return elem
      })())
      heading.appendChild((() => {
        const elem = document.createElement("a")
        elem.setAttribute("href", "#")
        elem.setAttribute("x-data-tooltip", "Derivation attribute")
        elem.innerText = "{{attr}}"
        return elem
      })())
      main.appendChild(heading)

      const chartDiv = document.createElement("div");
      chartDiv.setAttribute("class", "index-line-chart")
      main.appendChild(chartDiv)

      const chart = c3.generate({
          bindto: chartDiv,
          axis: {
            y: {
              padding: {top: 3, bottom: 0},
              max: 100,
              min: 0,
            },
          },
          data: {
            columns: [
              ["{{attr}}", 50, 100, 25],
            ]
          }
      });

    })()
  </script>

{% endblock %}
